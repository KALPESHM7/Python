# Voting / Polling App (Flask + MySQL + REST API)

A simple polling application built with Flask, MySQL, and Flask-Login.  
Users can register, log in, create polls, share them publicly, collect votes, and view results.  
Voting is restricted to one per user per poll using cookies.

---

## ğŸš€ Features
- User Registration & Login (Flask-Login)
- Create Polls with multiple options
- Public voting via shareable links
- Prevents double voting with cookies
- Poll results visible **only to poll owner**
- Delete polls (only by owner)
- REST API endpoints protected with JWT
- Postman Collection for end-to-end testing

---

## ğŸ“‚ Project Structure
```
Voting_or_polling_using_REST_API/
â”‚â”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ extensions.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â””â”€â”€ routes.py
â”‚   â”œâ”€â”€ web/
â”‚   â”‚   â””â”€â”€ views.py
â”‚   â””â”€â”€ templates/
â”‚       â”œâ”€â”€ base.html
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ create_poll.html
â”‚       â”œâ”€â”€ poll_public.html
â”‚       â”œâ”€â”€ login.html
â”‚       â””â”€â”€ register.html
â”‚â”€â”€ migrations/        # Flask-Migrate files (autogenerated)
â”‚â”€â”€ run.py             # Entry point
â”‚â”€â”€ requirements.txt   # Dependencies
â”‚â”€â”€ README.md          # Documentation (this file)
```

---

## âš™ï¸ Setup Instructions

### 1ï¸âƒ£ Clone the repository
```bash
git clone https://github.com/yourusername/voting-app.git
cd voting-app
```

### 2ï¸âƒ£ Create Virtual Environment & Install Dependencies
```bash
# Create virtual environment (Windows)
python -m venv .venv

# Activate virtual environment (Windows PowerShell)
.venv\Scripts\activate

# Activate virtual environment (Linux/Mac)
source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt
```

### 3ï¸âƒ£ Setup MySQL Database
```sql
-- Open MySQL and create database
CREATE DATABASE voting_app;

-- (Optional) Create user and grant privileges
CREATE USER 'vote_user'@'localhost' IDENTIFIED BY 'yourpassword';
GRANT ALL PRIVILEGES ON voting_app.* TO 'vote_user'@'localhost';
FLUSH PRIVILEGES;
```

### 4ï¸âƒ£ Configure Database in Flask (`.env`)
Make sure the connection URL in `SQLALCHEMY_DATABASE_URI` is correct:
```python
app.config["SQLALCHEMY_DATABASE_URI"] = "mysql+pymysql://root:yourpassword@localhost/voting_app"
```

### 5ï¸âƒ£ Run Migrations
```bash
# Initialize migrations (only first time)
flask db init

# Generate migration
flask db migrate -m "initial migration"

# Apply migration
flask db upgrade
```

### 6ï¸âƒ£ Run the App
```bash
flask run
```
App will start at: ğŸ‘‰ http://127.0.0.1:5000

---

## ğŸ§ª Testing with Postman
1. Open **Postman**
2. Import the provided collection (`test_using_postman.json`)
3. Run the following sequence:
   - `Register` â†’ Register a new user
   - `Login` â†’ Get login session
   - `Create Poll` â†’ Create a poll
   - `Get Polls` â†’ List all polls
   - `Vote on Poll` â†’ Vote on a poll
   - `Vote Again (should fail)` â†’ Prevents double voting

Expected Results:
- Registration â†’ Success message
- Login â†’ Redirect to homepage
- Create Poll â†’ Success message
- Get Polls â†’ List of polls
- Vote â†’ `Thanks for voting!`
- Vote Again â†’ Error message: `You already voted on this poll.`

---

## ğŸ”‘ Notes
- Delete a poll â†’ only the owner can delete.
- Poll results â†’ visible only to poll creator.
- Cookies in browser prevent double voting.
- Use **Incognito Mode** or clear cookies to test fresh voting.

---

## âœ… Requirements
- Python 3.11+
- MySQL 8+
- Flask 3+
- Flask-SQLAlchemy
- Flask-Migrate
- Flask-Login
- PyMySQL

---

